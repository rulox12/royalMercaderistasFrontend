(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7638:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return n(343)}])},343:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return M}});var t=n(5893),s=n(9008),a=n.n(s),i=n(8005),l=n(7357),o=n(5582),c=n(6447),d=n(5861),u=n(3321),h=n(3219),x=n(4150),j=n(8334),Z=n(6242),m=n(7906),p=n(3184),f=n(3816),b=n(8102),y=n(295),g=n(2377);let v=e=>{let{items:r=[]}=e;return(0,t.jsx)(Z.Z,{children:(0,t.jsx)(g.L,{children:(0,t.jsx)(l.Z,{sx:{minWidth:800},children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(b.Z,{children:"Nombre del Producto"}),(0,t.jsx)(b.Z,{children:"Presentaci\xf3n"}),(0,t.jsx)(b.Z,{children:"Cantidad"}),(0,t.jsx)(b.Z,{children:"Proveedor"}),(0,t.jsx)(b.Z,{children:"Nombre a Mostrar"})]})}),(0,t.jsx)(y.Z,{children:r.map(e=>(0,t.jsxs)(f.Z,{hover:!0,children:[(0,t.jsx)(b.Z,{children:(0,t.jsx)(d.Z,{variant:"subtitle2",children:e.name})}),(0,t.jsx)(b.Z,{children:e.presentation}),(0,t.jsx)(b.Z,{children:e.quantity}),(0,t.jsx)(b.Z,{children:e.supplier}),(0,t.jsx)(b.Z,{children:e.displayName})]},e.internalProductNumber))})]})})})})};var C=n(9396),w=n(7709),N=n(7109);let P=()=>(0,t.jsx)(Z.Z,{sx:{p:2},children:(0,t.jsx)(w.Z,{defaultValue:"",fullWidth:!0,placeholder:"Buscar usuario",startAdornment:(0,t.jsx)(N.Z,{position:"start",children:(0,t.jsx)(h.Z,{color:"action",fontSize:"small",children:(0,t.jsx)(C.Z,{})})}),sx:{maxWidth:500}})});var E=n(9100),_=n(7294),S=n(6798),k=n(1737),q=n(8445),W=n(4267),X=n(1426),A=n(4371),z=n(7720),D=n(2023);let G=()=>{let[e,r]=(0,_.useState)({name:"",presentation:"",quantity:"",supplier:"",displayName:"",internalProductNumber:""}),[n,s]=(0,_.useState)(!1),[a,i]=(0,_.useState)("success"),[o,c]=(0,_.useState)(""),d=(e,r)=>{i(e),c(r),s(!0)},h=(e,r)=>{"clickaway"!==r&&s(!1)},[x,j]=(0,_.useState)([]),m=async()=>{try{let e=await (0,E.X)();j(e)}catch(e){console.error("Error fetching products:",e)}},p=(0,_.useCallback)(e=>{r(r=>({...r,[e.target.name]:e.target.value}))},[]),f=(0,_.useCallback)(e=>{e.preventDefault()},[]),b=async()=>{try{await (0,E.r)(e),d("success","Producto creado correctamente")}catch(e){d("error","Error al crear producto"),console.log("Error al guardar producto:",e)}};return(0,_.useEffect)(()=>{m()},[]),(0,t.jsxs)("form",{autoComplete:"off",noValidate:!0,onSubmit:f,children:[(0,t.jsx)(S.Z,{open:n,autoHideDuration:6e3,onClose:h,children:(0,t.jsx)(k.Z,{onClose:h,severity:a,sx:{width:"100%"},children:o})}),(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(q.Z,{subheader:""}),(0,t.jsx)(W.Z,{sx:{pt:0},children:(0,t.jsx)(l.Z,{sx:{m:-1.5},children:(0,t.jsxs)(X.Z,{container:!0,spacing:3,children:[(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Nombre",name:"name",onChange:p,required:!0,value:e.name})}),(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Presentaci\xf3n",name:"presentation",onChange:p,required:!0,value:e.presentation})}),(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Cantidad",name:"quantity",onChange:p,required:!0,type:"number",value:e.quantity})}),(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Proveedor",name:"supplier",onChange:p,required:!0,value:e.supplier})}),(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Nombre a Mostrar",name:"displayName",onChange:p,required:!0,value:e.displayName})}),(0,t.jsx)(X.Z,{xs:12,md:6,children:(0,t.jsx)(A.Z,{fullWidth:!0,label:"Referencia interna",name:"internalProductNumber",onChange:p,required:!0,value:e.internalProductNumber})})]})})}),(0,t.jsx)(z.Z,{}),(0,t.jsx)(D.Z,{sx:{justifyContent:"flex-end"},children:(0,t.jsx)(u.Z,{variant:"contained",onClick:b,children:"Guardar Producto"})})]})]})},L=()=>{let[e,r]=(0,_.useState)([]),[n,s]=(0,_.useState)(!1),j=()=>s(!0),Z=()=>s(!1),m=async()=>{try{let e=await (0,E.X)();r(e)}catch(e){console.error("Error fetching products:",e)}};return(0,_.useEffect)(()=>{m()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a(),{children:(0,t.jsx)("title",{children:"Productos"})}),(0,t.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,t.jsx)(o.Z,{maxWidth:"xl",children:(0,t.jsxs)(c.Z,{spacing:3,children:[(0,t.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,t.jsx)(c.Z,{spacing:1,children:(0,t.jsx)(d.Z,{variant:"h4",children:"Productos"})}),(0,t.jsx)("div",{children:(0,t.jsx)(u.Z,{onClick:j,startIcon:(0,t.jsx)(h.Z,{fontSize:"small",children:(0,t.jsx)(i.Z,{})}),variant:"contained",children:"Agregar nuevo producto"})})]}),(0,t.jsx)(P,{}),(0,t.jsx)(v,{count:e.length,items:e}),(0,t.jsx)(x.Z,{open:n,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,t.jsxs)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,t.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Crear Producto"}),(0,t.jsx)("div",{id:"modal-modal-description",sx:{mt:2},children:(0,t.jsx)(G,{})})]})})]})})})]})};L.getLayout=e=>(0,t.jsx)(j.A,{children:e});var M=L},9100:function(e,r,n){"use strict";n.d(r,{X:function(){return a},r:function(){return i}});var t=n(5121);let s="http://localhost:3000/api",a=async()=>{try{let e=await t.Z.get("".concat(s,"/products"));return e.data}catch(e){throw console.error("Error fetching roles:",e),e}},i=async e=>{try{let r=await t.Z.post("".concat(s,"/products"),e);return r.data}catch(e){throw console.error("Error fetching users:",e),e}}}},function(e){e.O(0,[823,904,709,972,371,498,71,798,808,334,774,888,179],function(){return e(e.s=7638)}),_N_E=e.O()}]);