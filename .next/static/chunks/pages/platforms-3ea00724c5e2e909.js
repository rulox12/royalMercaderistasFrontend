(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{8915:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/platforms",function(){return t(3334)}])},3334:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return L}});var n=t(5893),a=t(9008),s=t.n(a),l=t(8005),i=t(7357),c=t(5582),o=t(6447),d=t(5861),h=t(3321),x=t(3219),u=t(4150),j=t(8334),m=t(9396),f=t(6242),Z=t(7709),p=t(7109);let g=()=>(0,n.jsx)(f.Z,{sx:{p:2},children:(0,n.jsx)(Z.Z,{defaultValue:"",fullWidth:!0,placeholder:"Buscar plataforma",startAdornment:(0,n.jsx)(p.Z,{position:"start",children:(0,n.jsx)(x.Z,{color:"action",fontSize:"small",children:(0,n.jsx)(m.Z,{})})}),sx:{maxWidth:500}})});var b=t(7294),w=t(7275),v=t(7906),y=t(3184),C=t(3816),_=t(8102),E=t(295),k=t(2377);let S=e=>{let{items:r=[]}=e;return(0,n.jsx)(f.Z,{children:(0,n.jsx)(k.L,{children:(0,n.jsx)(i.Z,{sx:{minWidth:800},children:(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(y.Z,{children:(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(_.Z,{children:"Nombre"}),(0,n.jsx)(_.Z,{children:"NIT"})]})}),(0,n.jsx)(E.Z,{children:r.map(e=>(0,n.jsxs)(C.Z,{hover:!0,children:[(0,n.jsx)(_.Z,{children:(0,n.jsx)(o.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,n.jsx)(d.Z,{variant:"subtitle2",children:e.name})})}),(0,n.jsx)(_.Z,{children:e.nit})]},e._id))})]})})})})};var N=t(6798),P=t(1737),T=t(8445),W=t(4267),A=t(1426),I=t(4371),q=t(7720),z=t(2023);let D=()=>{let[e,r]=(0,b.useState)({name:"",nit:""}),[t,a]=(0,b.useState)(!1),[s,l]=(0,b.useState)("success"),[c,o]=(0,b.useState)(""),d=(e,r)=>{l(e),o(r),a(!0)},x=(e,r)=>{"clickaway"!==r&&a(!1)},u=(0,b.useCallback)(e=>{r(r=>({...r,[e.target.name]:e.target.value}))},[]),j=(0,b.useCallback)(e=>{e.preventDefault()},[]),m=async()=>{try{await (0,w.T)(e),d("success","Plataforma creada correctamente")}catch(e){d("error","Error al crear Platforma"),console.log("Error al guardar Platforma:",e)}};return(0,b.useEffect)(()=>{},[]),(0,n.jsxs)("form",{autoComplete:"off",noValidate:!0,onSubmit:j,children:[(0,n.jsx)(N.Z,{open:t,autoHideDuration:6e3,onClose:x,children:(0,n.jsx)(P.Z,{onClose:x,severity:s,sx:{width:"100%"},children:c})}),(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(T.Z,{subheader:""}),(0,n.jsx)(W.Z,{sx:{pt:0},children:(0,n.jsx)(i.Z,{sx:{m:-1.5},children:(0,n.jsxs)(A.Z,{container:!0,spacing:3,children:[(0,n.jsx)(A.Z,{xs:12,md:6,children:(0,n.jsx)(I.Z,{fullWidth:!0,label:"Nombre",name:"name",onChange:u,required:!0,value:e.name})}),(0,n.jsx)(A.Z,{xs:12,md:6,children:(0,n.jsx)(I.Z,{fullWidth:!0,label:"NIT",name:"nit",onChange:u,required:!0,value:e.nit})})]})})}),(0,n.jsx)(q.Z,{}),(0,n.jsx)(z.Z,{sx:{justifyContent:"flex-end"},children:(0,n.jsx)(h.Z,{variant:"contained",onClick:m,children:"Guardar Plataforma"})})]})]})},G=()=>{let[e,r]=(0,b.useState)([]),[t,a]=(0,b.useState)(!1),j=()=>a(!0),m=()=>a(!1),f=async()=>{try{let e=await (0,w.A)();r(e)}catch(e){console.error("Error fetching users:",e)}};return(0,b.useEffect)(()=>{f()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"Plataformas"})}),(0,n.jsx)(i.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(c.Z,{maxWidth:"xl",children:(0,n.jsxs)(o.Z,{spacing:3,children:[(0,n.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,n.jsx)(o.Z,{spacing:1,children:(0,n.jsx)(d.Z,{variant:"h4",children:"Plataformas"})}),(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{onClick:j,startIcon:(0,n.jsx)(x.Z,{fontSize:"small",children:(0,n.jsx)(l.Z,{})}),variant:"contained",children:"Agregar plataforma"})})]}),(0,n.jsx)(g,{}),(0,n.jsx)(S,{count:e.length,items:e}),(0,n.jsx)(u.Z,{open:t,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,n.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Crear Plataforma"}),(0,n.jsx)("div",{id:"modal-modal-description",sx:{mt:2},children:(0,n.jsx)(D,{})})]})})]})})})]})};G.getLayout=e=>(0,n.jsx)(j.A,{children:e});var L=G},7275:function(e,r,t){"use strict";t.d(r,{A:function(){return s},T:function(){return l}});var n=t(5121);let a="http://localhost:3000/api",s=async()=>{try{let e=await n.Z.get("".concat(a,"/platforms"));return e.data}catch(e){throw console.error("Error fetching roles:",e),e}},l=async e=>{try{let r=await n.Z.post("".concat(a,"/platforms"),e);return r.data}catch(e){throw console.error("Error fetching users:",e),e}}}},function(e){e.O(0,[823,904,709,972,371,498,71,798,808,334,774,888,179],function(){return e(e.s=8915)}),_N_E=e.O()}]);