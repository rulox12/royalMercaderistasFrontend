(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[821],{1558:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cities",function(){return n(5168)}])},5168:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(5893),i=n(9008),s=n.n(i),a=n(8005),c=n(7357),l=n(5582),d=n(6447),o=n(5861),h=n(3321),x=n(3219),u=n(4150),j=n(8334),Z=n(6242),m=n(7906),p=n(3184),f=n(3816),g=n(8102),v=n(295),C=n(2377);let b=e=>{let{items:t=[]}=e;return(0,r.jsx)(Z.Z,{children:(0,r.jsx)(C.L,{children:(0,r.jsx)(c.Z,{sx:{minWidth:800},children:(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(p.Z,{children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(g.Z,{children:"Nombre"}),(0,r.jsx)(g.Z,{children:"Departamento"})]})}),(0,r.jsx)(v.Z,{children:t.map(e=>(0,r.jsxs)(f.Z,{hover:!0,children:[(0,r.jsx)(g.Z,{children:(0,r.jsx)(d.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,r.jsx)(o.Z,{variant:"subtitle2",children:e.name})})}),(0,r.jsx)(g.Z,{children:e.department})]},e._id))})]})})})})};var w=n(9396),y=n(7709),_=n(7109);let E=()=>(0,r.jsx)(Z.Z,{sx:{p:2},children:(0,r.jsx)(y.Z,{defaultValue:"",fullWidth:!0,placeholder:"Buscar ciudad",startAdornment:(0,r.jsx)(_.Z,{position:"start",children:(0,r.jsx)(x.Z,{color:"action",fontSize:"small",children:(0,r.jsx)(w.Z,{})})}),sx:{maxWidth:500}})});var S=n(6806),k=n(7294),N=n(6798),W=n(1737),D=n(8445),A=n(4267),q=n(1426),z=n(4371),I=n(7720),L=n(2023);let M=()=>{let[e,t]=(0,k.useState)({name:"",department:""}),[n,i]=(0,k.useState)(!1),[s,a]=(0,k.useState)("success"),[l,d]=(0,k.useState)(""),o=(e,t)=>{a(e),d(t),i(!0)},x=(e,t)=>{"clickaway"!==t&&i(!1)},u=(0,k.useCallback)(e=>{t(t=>({...t,[e.target.name]:e.target.value}))},[]),j=(0,k.useCallback)(async t=>{t.preventDefault();try{await (0,S.g)(e),o("success","Ciudad creada correctamente")}catch(e){o("error","Error creating city"),console.log("Error saving city:",e)}},[e]);return(0,r.jsxs)("form",{autoComplete:"off",noValidate:!0,onSubmit:j,children:[(0,r.jsx)(N.Z,{open:n,autoHideDuration:6e3,onClose:x,children:(0,r.jsx)(W.Z,{onClose:x,severity:s,sx:{width:"100%"},children:l})}),(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(D.Z,{subheader:""}),(0,r.jsx)(A.Z,{sx:{pt:0},children:(0,r.jsx)(c.Z,{sx:{m:-1.5},children:(0,r.jsxs)(q.Z,{container:!0,spacing:3,children:[(0,r.jsx)(q.Z,{xs:12,md:6,children:(0,r.jsx)(z.Z,{fullWidth:!0,label:"City Name",name:"name",onChange:u,required:!0,value:e.name})}),(0,r.jsx)(q.Z,{xs:12,md:6,children:(0,r.jsx)(z.Z,{fullWidth:!0,label:"Department",name:"department",onChange:u,required:!0,value:e.department})})]})})}),(0,r.jsx)(I.Z,{}),(0,r.jsx)(L.Z,{sx:{justifyContent:"flex-end"},children:(0,r.jsx)(h.Z,{variant:"contained",onClick:j,children:"Save City"})})]})]})},O=()=>{let[e,t]=(0,k.useState)([]),[n,i]=(0,k.useState)(!1),j=()=>i(!0),Z=()=>i(!1),m=async()=>{try{let e=await (0,S.M)();t(e)}catch(e){console.error("Error fetching cities:",e)}};return(0,k.useEffect)(()=>{m()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Ciudades"})}),(0,r.jsx)(c.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsx)(l.Z,{maxWidth:"xl",children:(0,r.jsxs)(d.Z,{spacing:3,children:[(0,r.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,r.jsx)(d.Z,{spacing:1,children:(0,r.jsx)(o.Z,{variant:"h4",children:"Ciudades"})}),(0,r.jsx)("div",{children:(0,r.jsx)(h.Z,{onClick:j,startIcon:(0,r.jsx)(x.Z,{fontSize:"small",children:(0,r.jsx)(a.Z,{})}),variant:"contained",children:"Agregar nueva ciudad"})})]}),(0,r.jsx)(E,{}),(0,r.jsx)(b,{count:e.length,items:e}),(0,r.jsx)(u.Z,{open:n,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,r.jsx)(o.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Crear Ciudad"}),(0,r.jsx)("div",{id:"modal-modal-description",sx:{mt:2},children:(0,r.jsx)(M,{})})]})})]})})})]})};O.getLayout=e=>(0,r.jsx)(j.A,{children:e});var P=O},6806:function(e,t,n){"use strict";n.d(t,{M:function(){return s},g:function(){return a}});var r=n(5121);let i="http://217.196.49.92:3000/api",s=async()=>{try{let e=await r.Z.get("".concat(i,"/cities"));return e.data}catch(e){throw console.error("Error fetching cities:",e),e}},a=async e=>{try{let t=await r.Z.post("".concat(i,"/cities"),e);return t.data}catch(e){throw console.error("Error creating cities:",e),e}}}},function(e){e.O(0,[823,904,709,972,371,498,71,798,808,334,774,888,179],function(){return e(e.s=1558)}),_N_E=e.O()}]);